<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Markdown Viewer</title>
<!-- Bootstrap 5 CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<!-- Highlight.js CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css" />
<style>
  body {
    padding: 2rem;
  }
  #markdown-output {
    margin-top: 2rem;
}
</style>
</head>
<body>
<div class="container">
  <h1 class="mb-4">Markdown to HTML Converter</h1>
  <div class="mb-3">
    <button id="load-md" class="btn btn-primary">Load Markdown</button>
  </div>
  <div id="markdown-output" class="border rounded p-3"></div>
</div>
<!-- Bootstrap 5 JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Marked library for markdown parsing -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<!-- Highlight.js library for code highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>
// Initialize highlight.js
hljs.highlightAll();

// Markdown content (from input.md)
const markdownContent = `# Markdown Demo

This is a **demo markdown** file.

# Heading Level 1

Some text under a heading.

## Heading Level 2

- List item 1
- List item 2
- List item 3

\
const code = "hello world";\

> This is a blockquote.

End of demo content.`;

// Function to render markdown
function renderMarkdown() {
  try {
    const html = marked.parse(markdownContent, { highlight: function(code, lang) {
      return hljs.highlightAuto(code).value;
    } });
    const outputDiv = document.getElementById('markdown-output');
    outputDiv.innerHTML = html;
    hljs.highlightAll(); // re-highlight after rendering
  } catch (error) {
    console.error('Error rendering markdown:', error);
    document.getElementById('markdown-output').innerHTML = '<div class="alert alert-danger">Error rendering markdown.</div>';
  }
}

// Event listener for load button
document.getElementById('load-md').addEventListener('click', renderMarkdown);

// Optional: auto-render on page load
window.addEventListener('DOMContentLoaded', renderMarkdown);
</script>
</body>
</html>